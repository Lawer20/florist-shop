# üöÄ –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Cloudflare Pages - –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- ‚úÖ Railway backend –ø—Ä–∞—Ü—é—î: `https://florist-shop-production.up.railway.app`
- ‚úÖ Stripe –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- ‚úÖ –ö–æ–¥ –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î

---

## –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

### 1.1 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É

```powershell
cd "C:\Users\–ê–ª—å–æ–Ω–∞ –®–∞–ø–æ–≤–∞–ª\.gemini\antigravity\scratch\florist_shop"
git status
git remote -v
```

### 1.2 Commit –≤—Å—ñ –∑–º—ñ–Ω–∏

```powershell
git add .
git commit -m "Prepare for Cloudflare Pages migration"
git push origin main
```

**–í–∞–∂–ª–∏–≤–æ:** Cloudflare Pages –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç–∏ –∑ GitHub –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É push.

---

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Cloudflare Pages Project

### 2.1 –ó–∞–π–¥—ñ—Ç—å –Ω–∞ Cloudflare

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://dash.cloudflare.com
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç –∞–±–æ –∑–∞–ª–æ–≥—ñ–Ω—å—Ç–µ—Å—å
3. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –≤–∏–±–µ—Ä—ñ—Ç—å **Workers & Pages**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create application**
5. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∫–ª–∞–¥–∫—É **Pages**
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Connect to Git**

### 2.2 –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub

1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Cloudflare –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ GitHub
2. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π `florist_shop`
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Begin setup**

### 2.3 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Build

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ —Å–∞–π—Ç—É:**

```
Project name: vay-studio-shop (–∞–±–æ —ñ–Ω—à–µ –Ω–∞ –≤–∞—à –≤–∏–±—ñ—Ä)
Production branch: main
Build command: (–∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –∞–±–æ –Ω–∞–ø–∏—à—ñ—Ç—å "echo 'Static site'")
Build output directory: / (–∞–±–æ –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º)
Root Directory: / (–≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π)
```

**–ß–æ–º—É –ø–æ—Ä–æ–∂–Ω—å–æ?** –í–∞—à —Å–∞–π—Ç –≤–∂–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π (HTML/CSS/JS), –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î build –ø—Ä–æ—Ü–µ—Å—É!

### 2.4 Environment Variables (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

–î–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É environment variables –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ - –≤—Å–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ!

### 2.5 Deploy

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Save and Deploy** —ñ –∑–∞—á–µ–∫–∞–π—Ç–µ 2-3 —Ö–≤–∏–ª–∏–Ω–∏.

---

## –ö—Ä–æ–∫ 3: –û–Ω–æ–≤–ª–µ–Ω–Ω—è CORS –≤ Railway Backend

Cloudflare –Ω–∞–¥–∞—Å—Ç—å URL —Ç–∏–ø—É: `https://vay-studio-shop.pages.dev`

### 3.1 –û–Ω–æ–≤—ñ—Ç—å CORS –≤ Railway

1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ https://railway.app
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à backend project
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Variables**
4. –î–æ–¥–∞–π—Ç–µ –∞–±–æ –æ–Ω–æ–≤—ñ—Ç—å:

```
FRONTEND_URL=https://vay-studio-shop.pages.dev
```

**‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:** –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω–∏–π Cloudflare URL!

### 3.2 CORS –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π!

–£ —Ñ–∞–π–ª—ñ `backend/app.py` –≤–∂–µ —î:

```python
CORS(app, resources={r"/*": {"origins": "*"}}, supports_credentials=True)
```

–¶–µ –æ–∑–Ω–∞—á–∞—î —â–æ **–±—É–¥—å-—è–∫–∏–π –¥–æ–º–µ–Ω –º–æ–∂–µ —Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏** - —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ–ø–ª–æ—é! ‚úÖ

---

## –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 4.1 –í—ñ–¥–∫—Ä–∏–π—Ç–µ Cloudflare URL

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `https://vay-studio-shop.pages.dev` (–≤–∞—à URL)

### 4.2 –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

- [ ] –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
- [ ] Shop page –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
- [ ] –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
- [ ] CSS —Å—Ç–∏–ª—ñ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è

### 4.3 –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API –∑'—î–¥–Ω–∞–Ω–Ω—è

–í—ñ–¥–∫—Ä–∏–π—Ç–µ **Developer Tools** (F12) ‚Üí **Console**

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –Ω–µ–º–∞—î CORS –ø–æ–º–∏–ª–æ–∫:
```
‚úÖ –î–æ–±—Ä–µ: API –∑–∞–ø–∏—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
‚ùå –ü–æ–≥–∞–Ω–æ: "CORS policy" –ø–æ–º–∏–ª–∫–∞
```

### 4.4 –¢–µ—Å—Ç –ø–ª–∞—Ç–µ–∂—ñ–≤ (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

1. –î–æ–¥–∞–π—Ç–µ –±—É–∫–µ—Ç –≤ –∫–æ—à–∏–∫
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ checkout
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É
4. –í–∏–±–µ—Ä—ñ—Ç—å **Card Payment**
5. –í–≤–µ–¥—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤—É –∫–∞—Ä—Ç–∫—É:
   - Number: `4242 4242 4242 4242`
   - Date: `12/28`
   - CVC: `123`
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Complete Order**

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Payment intent —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è
- ‚úÖ Stripe –æ–±—Ä–æ–±–ª—è—î –ø–ª–∞—Ç—ñ–∂
- ‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è
- ‚úÖ –£—Å–ø—ñ—à–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è

---

## –ö—Ä–æ–∫ 5: Custom Domain (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–Ø–∫—â–æ —É –≤–∞—Å —î –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `vay-studio.com`):

### 5.1 –£ Cloudflare Pages

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Custom domains**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Set up a custom domain**
3. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à –¥–æ–º–µ–Ω
4. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –¥–ª—è DNS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 5.2 –û–Ω–æ–≤—ñ—Ç—å CORS

–î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ Railway environment variables:
```
FRONTEND_URL=https://yourdomain.com
```

---

## –ö—Ä–æ–∫ 6: –©–æ —Ä–æ–±–∏—Ç–∏ –∑ Netlify?

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: **PAUSE, –∞–ª–µ –ù–ï –í–ò–î–ê–õ–Ø–¢–ò** ‚ö†Ô∏è

#### –ß–æ–º—É –∑–∞–ª–∏—à–∏—Ç–∏?

‚úÖ **Backup –ø–ª–∞–Ω** - —è–∫—â–æ —â–æ—Å—å –ø—ñ–¥–µ –Ω–µ —Ç–∞–∫  
‚úÖ **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ** - pause –Ω–µ –∫–æ—à—Ç—É—î –≥—Ä–æ—à–µ–π  
‚úÖ **–®–≤–∏–¥–∫–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è** - –º–æ–∂–Ω–∞ unpause –±—É–¥—å-–∫–æ–ª–∏  
‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –º–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å  

#### –©–æ –∑—Ä–æ–±–∏—Ç–∏:

1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ https://app.netlify.com
2. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à —Å–∞–π—Ç
3. **Site settings ‚Üí General ‚Üí Danger zone**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Pause site** (–ù–ï DELETE!)

**–ê–±–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ª–∏—à—Ç–µ —è–∫ —î** - –ø–æ–∫–∏ –≤—ñ–Ω –Ω–∞ pause, –≤—ñ–Ω –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ—Å—É—Ä—Å–∏.

#### –ö–æ–ª–∏ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏:

–ß–µ—Ä–µ–∑ **1-2 –º—ñ—Å—è—Ü—ñ** –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –Ω–∞ Cloudflare –º–æ–∂–Ω–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∞–ª–∏—Ç–∏ Netlify –ø—Ä–æ–µ–∫—Ç.

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ Deploys

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

```
1. –í–∏ –æ–Ω–æ–≤–ª—é—î—Ç–µ –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ
2. git add . && git commit -m "Update"
3. git push origin main
4. ‚ö° Cloudflare –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å (1-2 —Ö–≤–∏–ª–∏–Ω–∏)
5. –°–∞–π—Ç –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è!
```

### Rollback (—è–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫):

1. Cloudflare ‚Üí Pages ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. **Deployments**
3. –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —É—Å–ø—ñ—à–Ω–∏–π deploy
4. **Rollback to this deployment**

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Cloudflare Analytics

- **Pages ‚Üí Analytics**
- –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —Ç—Ä–∞—Ñ—ñ–∫, bandwidth, –ø–æ–º–∏–ª–∫–∏
- –í—Å–µ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ!

### Railway Backend Logs

- **Railway ‚Üí Service ‚Üí Deployments ‚Üí View Logs**
- –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ API –∑–∞–ø–∏—Ç–∏ —Ç–∞ –ø–æ–º–∏–ª–∫–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó

- [ ] Cloudflare Pages –¥–µ–ø–ª–æ—ó—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ
- [ ] –í—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
- [ ] API –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ Railway –ø—Ä–∞—Ü—é—î
- [ ] Stripe –ø–ª–∞—Ç–µ–∂—ñ —Ç–µ—Å—Ç—É—é—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ
- [ ] –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —Ñ–æ—Ä–º–∞ –ø—Ä–∞—Ü—é—î
- [ ] Google Sheets integration –ø—Ä–∞—Ü—é—î
- [ ] Netlify project –Ω–∞ pause
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –ø–æ–º–∏–ª–∫–∞

**–†—ñ—à–µ–Ω–Ω—è:**
```python
# –£ backend/app.py –≤–∂–µ —î:
CORS(app, resources={r"/*": {"origins": "*"}})
# –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤—Å—ñ –¥–æ–º–µ–Ω–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞: 404 –Ω–∞ –ø—ñ–¥—Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö

**–†—ñ—à–µ–Ω–Ω—è:** Cloudflare Pages –ø—ñ–¥—Ç—Ä–∏–º—É—î SPA redirects –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è, —Å—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `_redirects`:
```
/*    /index.html   200
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:** 
- –ß–∏ —Ñ–∞–π–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó?
- –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ (–≤—ñ–¥–Ω–æ—Å–Ω—ñ, –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—ñ)?

### –ü—Ä–æ–±–ª–µ–º–∞: Stripe –Ω–µ –ø—Ä–∞—Ü—é—î

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
- Console –¥–ª—è –ø–æ–º–∏–ª–æ–∫ API
- Railway backend logs
- –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π BACKEND_API_URL –≤ card_payment.js

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏

- **Cloudflare Docs:** https://developers.cloudflare.com/pages/
- **Railway Docs:** https://docs.railway.app/
- **Stripe API:** https://stripe.com/docs

---

**–ì–æ—Ç–æ–≤–æ! üéâ –í–∞—à —Å–∞–π—Ç —Ç–µ–ø–µ—Ä –Ω–∞ –Ω–∞–π—à–≤–∏–¥—à–æ–º—É CDN —É —Å–≤—ñ—Ç—ñ –∑ –±–µ–∑–ª—ñ–º—ñ—Ç–Ω–∏–º bandwidth!**
